<div class="col-md-12" style="padding: 0px;">
    <div class="main-section">
        <h3>Mapping Rules</h3>
    </div>
    <div class="tool-section">
    </div>

    <fieldset class="module aligned" style="padding: 28px 0 0 0;">
        <div class="row">
            <div class="col-md-12  col-sm-12 ">
                <div class="css-gpglrx">
                    <div class="css-rvqhyx">
                        <button _ngcontent-dem-c65="" type="button" data-toggle="dropdown" class="select-button-secondary">
                   <span _ngcontent-dem-c65="" data-actions-icnt="13" class="action-counter">{{countervalue}} of {{Length}} selected</span><span _ngcontent-dem-c65="" class="all" style="display: none;">All 13 selected</span>
                   <span _ngcontent-dem-c65="" class="marginLeft desing-chevron-down"></span></button>
                        <div class="css-ha9xgj" role="group" style="min-width: 200px;">
                            <ng-select style="width:100%;" [items]="mappingTemplate" bindLabel="dropdownText" placeholder="Select Mapping Template" bindValue="dropdownValue" [(ngModel)]="selectedMappingTemplate" (change)="getMappingRules()">
                            </ng-select>
                        </div>
                        <div class="css-ha9xgj" role="group">
                            <button class="css-xpr64j ads_GROUP_ITEM" type="button" value="all" (click)="mappingFilter('all')">All</button>
                            <button class="css-b2qa21 ads_GROUP_ITEM" type="button" value="used" (click)="mappingFilter(true)">Mapped</button>
                            <button class="css-b2qa21 ads_GROUP_ITEM" type="button" value="unused" (click)="mappingFilter(false)">Unmapped</button>
                        </div>
                    </div>
                    <div class="css-rvqhyx">
                        <div class="dropdown css-rvqhyx" style="margin-right: 0px">
                            <button class="css-fw9vt9" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                             Save
                             <svg class="css-15lu7l8" fill="currentcolor" viewBox="0 0 24 24">
                                <path d="M12 14.172l5.657-5.657 1.414 1.414L12 17 4.929 9.929l1.414-1.414z"></path>
                             </svg>
                            </button>

                            <div style="width: 165px;" class="dropdown-menu css-1z0bvi8 css-1v6oy02" aria-labelledby="dropdownMenuLink">
                                <a class="css-sye81a" [ngClass]="{'clas': disableTrue === true,
                                                                        'disabled':disableTrue ===false}" (click)="saveMappingTemplate()">Save</a>
                                <a class="css-sye81a" (click)="templeteTextbox()">Save as New Templete</a>

                            </div>
                        </div>
                        <button class="css-fw9vt9" style="color: white;cursor: pointer;">Update Fields</button>
                        <button class="css-fw9vt9" (click)="getMappingRules()" style="color: white;cursor: pointer;">Restore Defaults</button>
                        <button class="css-fw9vt9" style="color: white;cursor: pointer;" (click)="ClearAll()">Clear All</button>
                    </div>
                </div>


            </div>
            <div class="col-md-12  col-sm-12" style="margin-top: 25px;" *ngIf="templateTextbox">
                <div class="css-gpglrx" style="float: right;">
                    <div class="css-rvqhyx">
                        <input type="text" name="templateName" [(ngModel)]="mappingNewTemplateName" style="width: 285px;" placeholder="Template Name..." class="vTextField" maxlength="60" required>
                        <button class="css-fw9vt9" style="color: white;cursor: pointer;width: 64px;" (click)="saveMappingTemplate()">Save</button>
                    </div>
                </div>


            </div>

            <div id="changelist">
                <form id="changelist-form" method="post" novalidate="" style="margin: 10px;">
                    <input type="hidden" name="csrfmiddlewaretoken" value="BzJ7MpE5jnM2lyqnbJrbEVtNiZc8GLk8udbCXR4ixTJfrCjd1V5zy452hpZwSEiq">
                    <input type="hidden" name="action" value="">
                    <input name="index" value="0" type="hidden">
                    <input class="select-across" name="select_across" value="0" type="hidden">
                    <div class="results">
                        <table id="result_list" class="table table-hover">
                            <thead>
                                <tr>
                                    <th scope="col" class="action-checkbox-column">
                                        <div class="cell-wrapper" title="Select all rows">
                                            <div class="text">
                                                <div data-id="action-toggle" toggle="adverity-checkbox[name=&quot;_selected_action&quot;]">
                                                    <div><span class="css-kpk1s7"><input class="css-10d97nj" type="checkbox" [checked]="allcheckbox" (change)="checkAll($event)" (click)="functionCount($event)"><span class="css-jlzago"></span></span>
                                                    </div>
                                                    <input hidden="" id="action-toggle" class="" data-type="checkbox" style="display: block;">
                                                </div>
                                            </div>
                                        </div>
                                    </th>
                                    <th scope="col" class="sortable column-type_logo">
                                        <div class="cell-wrapper" title="Toggle sorting">
                                            <div class="text">
                                                <a>Sr#</a>
                                            </div>
                                        </div>
                                    </th>
                                    <th scope="col" class="sortable column-stack">
                                        <div class="cell-wrapper" title="Toggle sorting">
                                            <div class="text">
                                                <a>Source Column</a>
                                            </div>
                                        </div>
                                    </th>
                                    <th scope="col" class="sortable column-name sorted ascending">
                                        <div class="cell-wrapper" title="Toggle sorting">
                                            <a href="#" class="toggle-link"> 
                                     Filed Type
                                   <span class="sortoptions sortdirectionn">
                                   <span class="toggle ascending"></span>
                                   </span>
                                   </a>
                                            <div class="sortoptions remove">
                                                <a class="sortremove" href="# title = " Remove from sorting></a>
                                            </div>
                                        </div>
                                    </th>
                                    <th scope="col" class="column-auth_status">
                                        <div class="cell-wrapper">
                                            <div class="text">
                                                <span>Target Column</span>
                                            </div>
                                        </div>
                                    </th>
                                    <th scope="col" class="column-auth_status">
                                        <div class="cell-wrapper">
                                            <div class="text">
                                                <span>Key Column</span>
                                            </div>
                                        </div>
                                    </th>

                                    <th scope="col" class="column-auth_status">
                                        <div class="cell-wrapper">
                                            <div class="text">
                                                <span>Visible</span>
                                            </div>
                                        </div>
                                    </th>
                                    <th scope="col" class="column-auth_status">
                                        <div class="cell-wrapper">
                                            <div class="text">
                                                <span>Image</span>
                                            </div>
                                        </div>
                                    </th>
                                </tr>
                            </thead>

                            <tr class="row1" *ngFor="let mapRule of mappingRules; let i = index">
                                <td class="action-checkbox">
                                    <div name="_selected_action" value="26">
                                        <div><span class="css-kpk1s7">
                                            <!-- <input class="css-10d97nj" type="checkbox" [(ngModel)]="SourceObject.state" name="something" (change)="findCount($event,SourceObject.objecT_ID)" value="{{SourceObject.objecT_ID}}"><span class="css-jlzago"></span></span>
                                            -->
                                            <input id="check{{i+1}}" class="css-10d97nj" type="checkbox" [(ngModel)]="mapRule.state" name="something" (change)="findCount($event,i)"><span class="css-jlzago"></span></span>
                                        </div>
                                        <input hidden="" name="_selected_action" class="action-select" data-type="checkbox" disabled="">
                                    </div>
                                </td>
                                <td class="field-type_logo">{{i+1}}</td>
                                <td class="field-stack nowrap">
                                    <div style="padding:5px;" ngClass="css-bgColorNo">
                                        <!-- {{SourceObject.objecT_NAME}}
                                         -->
                                        {{mapRule.sourceColumn}}

                                    </div>
                                </td>

                                <td class="field-stack nowrap">fields</td>
                                <td style="min-width: 501px;">
                                    <button *ngIf="showHideGridButton[i]" _ngcontent-dem-c65="" type="button" data-toggle="dropdown" class="select-button-secondary" style="border: 0px;width: 100%;padding-left:16px;" (mouseenter)="showDropDown(i)">
                                        <span _ngcontent-dem-c65="" data-actions-icnt="13" class="action-counter">{{mapRule.targetColumn}}</span>
                                        </button>

                                    <select *ngIf="showHideGridDropdown[i]" id="{{i+1}}" name="{{i+1}}" class="dropdown-box" style="width:400px" [(ngModel)]="mapRule.targetColumn" (change)="changedMappingFields(i)">{{mapRule.targetColumn}}
                                        <option *ngFor="let item of mappingField" value="{{item.dropdownValue}}">{{item.dropdownText}}</option>
                                     </select>
                                    <!-- <ng-select style="width:100%;" [items]="mappingField" bindLabel="text" placeholder="Created By:All" bindValue="value" [(ngModel)]="mapRule.targetColumn">
                                    </ng-select> -->

                                </td>
                                <td>
                                    <div class="switch">
                                        <input type="checkbox" name="EnableConnectoins+{{i}}" [(ngModel)]="mapRule.keyColumn" (change)="changedMappingFields(i)">
                                    </div>
                                </td>
                                <td class="field-stack nowrap">
                                    <!-- <select class="dropdown-box" (click)="ChangeColor($event.target.value,this.SourceObject.objecT_ID)" [(ngModel)]="SourceObject.objecT_VISIBILITY"> -->
                                    <select class="dropdown-box" name="visibility{{i+1}}" [(ngModel)]="mapRule.visibilityStatus" (change)="changedMappingFields(i)">
                                     <option value="no" selected>No</option>
                                    <option value="yes">Yes</option>
                               
                            </select>
                                </td>
                                <td class="field-type_logo">
                                    <img src="assets/images/icon-yes.svg" alt="false" />
                                </td>

                            </tr>
                        </table>
                    </div>
                    <div class="pull-left changelist-botton-row changelist-pagination ">
                        &nbsp;
                        <span class="pagination-element-counter ">{{Length}} Connections</span>
                    </div>
                </form>
            </div>
        </div>

    </fieldset>
</div>
{{updatedMappingRules | json}}